## House of Spirit 

## Structure 
- challenge1/: Basic house of spirit challenge
    - wine.c: Source code for the challenge
    - wine: Binary for the challenge
    - step0.py: The user script to start with for the challenge
    - final.py: Completed solution for the challenge
    - Makefile: Compilation script for the challenge
- challenge2/: Harder house of spirit challenge
    - critic.c: The source code for the challenge
    - critic: The binary for the challenge
    - final-2.23.py: The fastbin solution for the challenge
    - final-2.26.py: The TCache solution for the challenge
    - Notes.md: General comments about the development process of this challenge
    - Makefile: Compilation script for the challenge
- house_of_spirit.pptx: Slides for this challenge

## Flow of Folder
- First, read through the slides 
- Do challenge1 first. Start with step0.py until the challenge is completed. 
- Go through TCache version (2.26) of challenge2
    - Start of fby reading the source code and finding the vulnerability
    - Do each step of the challenge (shown below): 
        - If you get stuck (like, really stuck) then review the solution for the step then move on to the next step.
- Steps for challenge 2: 
    - Finding the vulnerability (step 1) 
    - Creating a fake chunk for the house of spirit attack (step 2) 
    - Use vulnerability to setup house of spirit  (step 3) 
    - Launch the House of Spirit to achieve read/write primitive (step 4) 
    - Leak LibC (step 5) 
    - Pop shell via overwriting GOT entry (step 6) 
- Once you have finished challenge 2 on TCache (2.26), try it on 2.23 with the fastbins:
    - The only change is a small difference on the fake chunk.
